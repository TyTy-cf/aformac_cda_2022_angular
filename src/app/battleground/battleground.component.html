
<div class="container">
  <h1>Arena</h1>
  <div class="d-flex justify-content-around my-4">
    <button class="btn btn-success"
            [disabled]="battleground.startedFight"
            (click)="battleground.startFight()"
    >
      Start
    </button>
    <button class="btn btn-warning"
            [disabled]="!battleground.startedFight"
            (click)="battleground = this.newFight()"
    >
      New fight
    </button>
  </div>
  <div *ngIf="battleground.startedFight">
    <h2>Fighters</h2>
    <div class="col-4 d-flex mx-auto">
      <table class="table table-striped table-dark mt-4 text-center">
        <thead>
        <tr>
          <th>Hero</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let hero of battleground.initialFighters">
          <td>{{ hero.name }} - {{hero.getHeroClass()}}</td>
        </tr>
        </tbody>
      </table>
    </div>

    <h2>End game stats</h2>
    <table class="table table-striped table-dark">
      <thead>
        <tr>
          <th></th>
          <th>Hero</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>Winner, winner, chicken dinner!</th>
          <td>{{battleground.winner}}</td>
        </tr>
        <tr>
          <th>Rival</th>
          <td>{{battleground.rival}}</td>
        </tr>
        <tr>
          <th>Most damages done</th>
          <td>
            {{battleground.mostTotalDamages}} - {{battleground.mostTotalDamages?.totalDamageDone}}
          </td>
        </tr>
        <tr>
          <th>The most critical strike dealer</th>
          <td>
            {{battleground.mostCriticalStrike}} - {{battleground.mostCriticalStrike?.totalCriticalStrikeDone}}
          </td>
        </tr>
        <tr>
          <th>The best killer</th>
          <td>{{battleground.mostHeroKiller}} - {{battleground.mostHeroKiller?.totalKilled}}</td>
        </tr>
        <tr>
          <th>The best single hit</th>
          <td>
            {{battleground.maxSingleHit?.hero}} - {{battleground.maxSingleHit?.stats}}
          </td>
        </tr>
        <tr>
          <th>First Blood</th>
          <td>{{battleground.firstToDie}}</td>
        </tr>
      </tbody>
    </table>

    <h2>Game log</h2>
    <table class="table table-striped table-dark mt-4">
      <thead>
      <tr>
        <th>Death order</th>
        <th>Hero</th>
        <th>Total kills</th>
        <th>Total damages</th>
        <th>Total CS</th>
        <th>Killed By</th>
      </tr>
      </thead>
      <tbody>
        <tr *ngFor="let hero of battleground.deadHeroes, let index = index">
          <td>{{ index+1 }}</td>
          <td>{{ hero }}</td>
          <td>{{ hero.totalKilled }}</td>
          <td>{{ hero.totalDamageDone }}</td>
          <td>{{ hero.totalCriticalStrikeDone }}</td>
          <td>{{ hero.killedBy }}</td>
        </tr>
        <tr>
          <td>Winner</td>
          <td>{{ battleground.winner}}</td>
          <td>{{ battleground.winner.totalKilled }}</td>
          <td>{{ battleground.winner.totalDamageDone }}</td>
          <td>{{ battleground.winner.totalCriticalStrikeDone }}</td>
          <td>Winner</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
